webpackJsonp([17],{"0bPT":function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var a=e("LPk9"),n=e("FJop"),o=e("x47x"),i={data:function(){return{agentHash:this.$route.query.agentHash,myNodeInfo:[]}},components:{Back:a.a,Password:n.a},created:function(){},mounted:function(){this.getMyNodeInfo("/consensus/agent/"+this.$route.query.agentHash)},activated:function(){this.getMyNodeInfo("/consensus/agent/"+this.$route.query.agentHash)},destroyed:function(){},methods:{getMyNodeInfo:function(t){var s=this;this.$fetch(t).then(function(t){if(t.success){var e=new o.BigNumber(1e-8);t.data.deposit=parseFloat(e.times(t.data.deposit).toString()),t.data.totalDeposit=parseFloat(e.times(t.data.totalDeposit).toString()),s.myNodeInfo=t.data}})},closedNode:function(){var t=this;this.$confirm(this.$t("message.c98")+" "+this.myNodeInfo.agentId+" "+this.$t("message.c99")+this.$t("message.miningFee"),this.$t("message.c86"),{confirmButtonText:this.$t("message.confirmButtonText"),cancelButtonText:this.$t("message.cancelButtonText")}).then(function(){"true"===localStorage.getItem("encrypted")?t.$refs.password.showPassword(!0):t.toSubmit("")}).catch(function(){t.$message({type:"waring",message:t.$t("message.c59"),duration:"1000"})})},toSubmit:function(t){var s=this,e={address:localStorage.getItem("newAccountAddress"),password:t};this.$post("/consensus/agent/stop",e).then(function(t){t.success?(s.$message({type:"success",message:s.$t("message.passWordSuccess")}),s.$router.push({name:"/consensus",params:{activeName:"first"}})):s.$message({type:"waring",message:s.$t("message.passWordFailed")+t.data.msg})})},toallPledge:function(){this.$router.push({path:"/consensus/allPledge",query:{agentName:this.myNodeInfo.agentId,txHash:this.myNodeInfo.txHash}})}},watch:{agentHash:function(t,s){console.log("agentHash: "+t,s),this.getMyNodeInfo("/consensus/agent/"+this.agentHash)}}},c={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"node-info"},[e("Back",{attrs:{backTitle:this.$t("message.consensusManagement")}}),t._v(" "),e("h2",[t._v(t._s(this.myNodeInfo.agentId))]),t._v(" "),e("ul",[e("li",[e("label",[t._v(t._s(t.$t("message.c16")))]),e("span",[t._v(t._s(this.myNodeInfo.agentName?this.myNodeInfo.agentName:this.myNodeInfo.agentAddress))])]),t._v(" "),e("li",[e("label",[t._v(t._s(t.$t("message.state")))]),e("span",[t._v(" "+t._s(t.$t("message.status"+this.myNodeInfo.status)))])]),t._v(" "),e("li",[e("label",[t._v(t._s(t.$t("message.c25")))]),e("span",[t._v(t._s(this.myNodeInfo.deposit))])]),t._v(" "),e("li",[e("label",[t._v(t._s(t.$t("message.c17")))]),e("span",[t._v(t._s(this.myNodeInfo.commissionRate)+" %")])]),t._v(" "),e("li",[e("label",[t._v(t._s(t.$t("message.c18")))]),e("span",[t._v(t._s(this.myNodeInfo.creditVal))])]),t._v(" "),e("li",[e("label",[t._v(t._s(t.$t("message.c19")))]),e("span",[t._v(t._s(this.myNodeInfo.memberCount))])]),t._v(" "),e("li",[e("label",[t._v(t._s(t.$t("message.c1")))]),e("span",{staticClass:"cursor-p text-d",on:{click:t.toallPledge}},[t._v(t._s(this.myNodeInfo.totalDeposit))])])]),t._v(" "),e("el-button",{staticClass:"bottom-btn",attrs:{type:"button"},on:{click:t.closedNode}},[t._v(t._s(t.$t("message.c62")))]),t._v(" "),e("Password",{ref:"password",on:{toSubmit:t.toSubmit}})],1)},staticRenderFns:[]};var d=e("vSla")(i,c,!1,function(t){e("Q3jf")},null,null);s.default=d.exports},Q3jf:function(t,s){}});